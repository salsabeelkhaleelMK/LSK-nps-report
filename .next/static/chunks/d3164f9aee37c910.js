(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87844,(e,t,r)=>{"use strict";var n=e.r(35730),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=n.useState,i=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=l({inst:{value:r,getSnapshot:t}}),a=n[0].inst,c=n[1];return s(function(){a.value=r,a.getSnapshot=t,d(a)&&c({inst:a})},[e,r,t]),i(function(){return d(a)&&c({inst:a}),e(function(){d(a)&&c({inst:a})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},57985,(e,t,r)=>{"use strict";t.exports=e.r(87844)},65030,e=>{"use strict";let t=(0,e.i(28091).default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>t],65030)},44972,78170,77989,86427,19301,4731,48598,e=>{"use strict";let t;var r,n,a,l,i,s,o,d,c,u,p,f,h,m,g,v,x,b,y,w=e.i(91966),j=e.i(35730),C=e.i(35941),k=e.i(23013),S=e.i(74089),E=e.i(45951),N=e.i(43389),D=e.i(66255),R=e.i(88422),I=e.i(9248),M=e.i(6447),P=e.i(51347),T=e.i(78195),O=e.i(23912),A=e.i(10233),L=e.i(23574),F="Dialog",[z,_]=(0,S.createContextScope)(F),[V,B]=z(F),H=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:l,modal:i=!0}=e,s=j.useRef(null),o=j.useRef(null),[d=!1,c]=(0,N.useControllableState)({prop:n,defaultProp:a,onChange:l});return(0,w.jsx)(V,{scope:t,triggerRef:s,contentRef:o,contentId:(0,E.useId)(),titleId:(0,E.useId)(),descriptionId:(0,E.useId)(),open:d,onOpenChange:c,onOpenToggle:j.useCallback(()=>c(e=>!e),[c]),modal:i,children:r})};H.displayName=F;var W="DialogTrigger",U=j.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=B(W,r),l=(0,k.useComposedRefs)(t,a.triggerRef);return(0,w.jsx)(P.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ed(a.open),...n,ref:l,onClick:(0,C.composeEventHandlers)(e.onClick,a.onOpenToggle)})});U.displayName=W;var K="DialogPortal",[$,q]=z(K,{forceMount:void 0}),X=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:a}=e,l=B(K,t);return(0,w.jsx)($,{scope:t,forceMount:r,children:j.Children.map(n,e=>(0,w.jsx)(M.Presence,{present:r||l.open,children:(0,w.jsx)(I.Portal,{asChild:!0,container:a,children:e})}))})};X.displayName=K;var G="DialogOverlay",Y=j.forwardRef((e,t)=>{let r=q(G,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,l=B(G,e.__scopeDialog);return l.modal?(0,w.jsx)(M.Presence,{present:n||l.open,children:(0,w.jsx)(J,{...a,ref:t})}):null});Y.displayName=G;var J=j.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=B(G,r);return(0,w.jsx)(O.RemoveScroll,{as:L.Slot,allowPinchZoom:!0,shards:[a.contentRef],children:(0,w.jsx)(P.Primitive.div,{"data-state":ed(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Z="DialogContent",Q=j.forwardRef((e,t)=>{let r=q(Z,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,l=B(Z,e.__scopeDialog);return(0,w.jsx)(M.Presence,{present:n||l.open,children:l.modal?(0,w.jsx)(ee,{...a,ref:t}):(0,w.jsx)(et,{...a,ref:t})})});Q.displayName=Z;var ee=j.forwardRef((e,t)=>{let r=B(Z,e.__scopeDialog),n=j.useRef(null),a=(0,k.useComposedRefs)(t,r.contentRef,n);return j.useEffect(()=>{let e=n.current;if(e)return(0,A.hideOthers)(e)},[]),(0,w.jsx)(er,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,C.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,C.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,C.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),et=j.forwardRef((e,t)=>{let r=B(Z,e.__scopeDialog),n=j.useRef(!1),a=j.useRef(!1);return(0,w.jsx)(er,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let l=t.target;r.triggerRef.current?.contains(l)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),er=j.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:l,...i}=e,s=B(Z,r),o=j.useRef(null),d=(0,k.useComposedRefs)(t,o);return(0,T.useFocusGuards)(),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(R.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:l,children:(0,w.jsx)(D.DismissableLayer,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":ed(s.open),...i,ref:d,onDismiss:()=>s.onOpenChange(!1)})}),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ef,{titleId:s.titleId}),(0,w.jsx)(eh,{contentRef:o,descriptionId:s.descriptionId})]})]})}),en="DialogTitle",ea=j.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=B(en,r);return(0,w.jsx)(P.Primitive.h2,{id:a.titleId,...n,ref:t})});ea.displayName=en;var el="DialogDescription",ei=j.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=B(el,r);return(0,w.jsx)(P.Primitive.p,{id:a.descriptionId,...n,ref:t})});ei.displayName=el;var es="DialogClose",eo=j.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=B(es,r);return(0,w.jsx)(P.Primitive.button,{type:"button",...n,ref:t,onClick:(0,C.composeEventHandlers)(e.onClick,()=>a.onOpenChange(!1))})});function ed(e){return e?"open":"closed"}eo.displayName=es;var ec="DialogTitleWarning",[eu,ep]=(0,S.createContext)(ec,{contentName:Z,titleName:en,docsSlug:"dialog"}),ef=({titleId:e})=>{let t=ep(ec),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},eh=({contentRef:e,descriptionId:t})=>{let r=ep("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return j.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null};e.s(["Close",()=>eo,"Content",()=>Q,"Description",()=>ei,"Overlay",()=>Y,"Portal",()=>X,"Root",()=>H,"Title",()=>ea,"Trigger",()=>U],78170);var em=e.i(28091);let eg=(0,em.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["XIcon",()=>eg],77989);var ev=e.i(74359);function ex({...e}){return(0,w.jsx)(H,{"data-slot":"sheet",...e})}function eb({...e}){return(0,w.jsx)(X,{"data-slot":"sheet-portal",...e})}function ey({className:e,...t}){return(0,w.jsx)(Y,{"data-slot":"sheet-overlay",className:(0,ev.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ew({className:e,children:t,side:r="right",...n}){return(0,w.jsxs)(eb,{children:[(0,w.jsx)(ey,{}),(0,w.jsxs)(Q,{"data-slot":"sheet-content",className:(0,ev.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,(0,w.jsxs)(eo,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,w.jsx)(eg,{className:"size-4"}),(0,w.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ej({className:e,...t}){return(0,w.jsx)("div",{"data-slot":"sheet-header",className:(0,ev.cn)("flex flex-col gap-1.5 p-4",e),...t})}function eC({className:e,...t}){return(0,w.jsx)(ea,{"data-slot":"sheet-title",className:(0,ev.cn)("text-foreground font-semibold",e),...t})}e.s(["Sheet",()=>ex,"SheetContent",()=>ew,"SheetHeader",()=>ej,"SheetTitle",()=>eC],44972);var ek=j.forwardRef((e,t)=>(0,w.jsx)(P.Primitive.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function eS({className:e,...t}){return(0,w.jsx)(ek,{"data-slot":"label",className:(0,ev.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}ek.displayName="Label",e.s(["Label",()=>eS],86427);var eE=e.i(39446),eN=e.i(18686),eD=e.i(8199),eR=e.i(5059),eI="Radio",[eM,eP]=(0,S.createContextScope)(eI),[eT,eO]=eM(eI),eA=j.forwardRef((e,t)=>{let{__scopeRadio:r,name:n,checked:a=!1,required:l,disabled:i,value:s="on",onCheck:o,form:d,...c}=e,[u,p]=j.useState(null),f=(0,k.useComposedRefs)(t,e=>p(e)),h=j.useRef(!1),m=!u||d||!!u.closest("form");return(0,w.jsxs)(eT,{scope:r,checked:a,disabled:i,children:[(0,w.jsx)(P.Primitive.button,{type:"button",role:"radio","aria-checked":a,"data-state":e_(a),"data-disabled":i?"":void 0,disabled:i,value:s,...c,ref:f,onClick:(0,C.composeEventHandlers)(e.onClick,e=>{a||o?.(),m&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})}),m&&(0,w.jsx)(ez,{control:u,bubbles:!h.current,name:n,value:s,checked:a,required:l,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});eA.displayName=eI;var eL="RadioIndicator",eF=j.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:n,...a}=e,l=eO(eL,r);return(0,w.jsx)(M.Presence,{present:n||l.checked,children:(0,w.jsx)(P.Primitive.span,{"data-state":e_(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t})})});eF.displayName=eL;var ez=e=>{let{control:t,checked:r,bubbles:n=!0,...a}=e,l=j.useRef(null),i=(0,eR.usePrevious)(r),s=(0,eD.useSize)(t);return j.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==r&&t){let a=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(a)}},[i,r,n]),(0,w.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function e_(e){return e?"checked":"unchecked"}var eV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eB="RadioGroup",[eH,eW]=(0,S.createContextScope)(eB,[eE.createRovingFocusGroupScope,eP]),eU=(0,eE.createRovingFocusGroupScope)(),eK=eP(),[e$,eq]=eH(eB),eX=j.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:n,defaultValue:a,value:l,required:i=!1,disabled:s=!1,orientation:o,dir:d,loop:c=!0,onValueChange:u,...p}=e,f=eU(r),h=(0,eN.useDirection)(d),[m,g]=(0,N.useControllableState)({prop:l,defaultProp:a,onChange:u});return(0,w.jsx)(e$,{scope:r,name:n,required:i,disabled:s,value:m,onValueChange:g,children:(0,w.jsx)(eE.Root,{asChild:!0,...f,orientation:o,dir:h,loop:c,children:(0,w.jsx)(P.Primitive.div,{role:"radiogroup","aria-required":i,"aria-orientation":o,"data-disabled":s?"":void 0,dir:h,...p,ref:t})})})});eX.displayName=eB;var eG="RadioGroupItem",eY=j.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:n,...a}=e,l=eq(eG,r),i=l.disabled||n,s=eU(r),o=eK(r),d=j.useRef(null),c=(0,k.useComposedRefs)(t,d),u=l.value===a.value,p=j.useRef(!1);return j.useEffect(()=>{let e=e=>{eV.includes(e.key)&&(p.current=!0)},t=()=>p.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,w.jsx)(eE.Item,{asChild:!0,...s,focusable:!i,active:u,children:(0,w.jsx)(eA,{disabled:i,required:l.required,checked:u,...o,...a,name:l.name,ref:c,onCheck:()=>l.onValueChange(a.value),onKeyDown:(0,C.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,C.composeEventHandlers)(a.onFocus,()=>{p.current&&d.current?.click()})})})});eY.displayName=eG;var eJ=j.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...n}=e,a=eK(r);return(0,w.jsx)(eF,{...a,...n,ref:t})});eJ.displayName="RadioGroupIndicator";let eZ=(0,em.default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function eQ({className:e,...t}){return(0,w.jsx)(eX,{"data-slot":"radio-group",className:(0,ev.cn)("grid gap-3",e),...t})}function e0({className:e,...t}){return(0,w.jsx)(eY,{"data-slot":"radio-group-item",className:(0,ev.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,w.jsx)(eJ,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,w.jsx)(eZ,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}e.s(["RadioGroup",()=>eQ,"RadioGroupItem",()=>e0],19301);var e1=e.i(43610);let e2="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function e3(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function e4(e){return"nodeType"in e}function e5(e){var t,r;return e?e3(e)?e:e4(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function e9(e){let{Document:t}=e5(e);return e instanceof t}function e7(e){return!e3(e)&&e instanceof e5(e).HTMLElement}function e8(e){return e instanceof e5(e).SVGElement}function e6(e){return e?e3(e)?e.document:e4(e)?e9(e)?e:e7(e)||e8(e)?e.ownerDocument:document:document:document}let te=e2?j.useLayoutEffect:j.useEffect;function tt(e){let t=(0,j.useRef)(e);return te(()=>{t.current=e}),(0,j.useCallback)(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function tr(e,t){void 0===t&&(t=[e]);let r=(0,j.useRef)(e);return te(()=>{r.current!==e&&(r.current=e)},t),r}function tn(e,t){let r=(0,j.useRef)();return(0,j.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function ta(e){let t=tt(e),r=(0,j.useRef)(null),n=(0,j.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,n]}function tl(e){let t=(0,j.useRef)();return(0,j.useEffect)(()=>{t.current=e},[e]),t.current}let ti={};function ts(e,t){return(0,j.useMemo)(()=>{if(t)return t;let r=null==ti[e]?0:ti[e]+1;return ti[e]=r,e+"-"+r},[e,t])}function to(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((t,r)=>{for(let[n,a]of Object.entries(r)){let r=t[n];null!=r&&(t[n]=r+e*a)}return t},{...t})}}let td=to(1),tc=to(-1);function tu(e){if(!e)return!1;let{KeyboardEvent:t}=e5(e.target);return t&&e instanceof t}function tp(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=e5(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let tf=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[tf.Translate.toString(e),tf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),th="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",tm={display:"none"};function tg(e){let{id:t,value:r}=e;return j.default.createElement("div",{id:t,style:tm},r)}function tv(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return j.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}let tx=(0,j.createContext)(null),tb={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ty={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function tw(e){var t;let r,{announcements:n=ty,container:a,hiddenTextDescribedById:l,screenReaderInstructions:i=tb}=e,{announce:s,announcement:o}=function(){let[e,t]=(0,j.useState)("");return{announce:(0,j.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),d=ts("DndLiveRegion"),[c,u]=(0,j.useState)(!1);if((0,j.useEffect)(()=>{u(!0)},[]),t=(0,j.useMemo)(()=>({onDragStart(e){let{active:t}=e;s(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&s(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;s(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;s(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;s(n.onDragCancel({active:t,over:r}))}}),[s,n]),r=(0,j.useContext)(tx),(0,j.useEffect)(()=>{if(!r)throw Error("useDndMonitor must be used within a children of <DndContext>");return r(t)},[t,r]),!c)return null;let p=j.default.createElement(j.default.Fragment,null,j.default.createElement(tg,{id:l,value:i.draggable}),j.default.createElement(tv,{id:d,announcement:o}));return a?(0,e1.createPortal)(p,a):p}function tj(){}function tC(e,t){return(0,j.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}(r=u||(u={})).DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable";let tk=Object.freeze({x:0,y:0});function tS(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function tE(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function tN(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function tD(e){let{left:t,top:r,height:n,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+n},{x:t+a,y:r+n}]}function tR(e,t){if(!e||0===e.length)return null;let[r]=e;return t?r[t]:r}function tI(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}let tM=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,a=tI(t,t.left,t.top),l=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=tS(tI(n),a);l.push({id:t,data:{droppableContainer:e,value:r}})}}return l.sort(tE)},tP=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,a=[];for(let e of n){let{id:n}=e,l=r.get(n);if(l){let r=function(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height);if(n<a&&r<l){let i=t.width*t.height,s=e.width*e.height,o=(a-n)*(l-r);return Number((o/(i+s-o)).toFixed(4))}return 0}(l,t);r>0&&a.push({id:n,data:{droppableContainer:e,value:r}})}}return a.sort(tN)};function tT(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:tk}let tO=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})},tA={ignoreTransform:!1};function tL(e,t){void 0===t&&(t=tA);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:n}=e5(e).getComputedStyle(e);t&&(r=function(e,t,r){let n=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!n)return e;let{scaleX:a,scaleY:l,x:i,y:s}=n,o=e.left-i-(1-a)*parseFloat(r),d=e.top-s-(1-l)*parseFloat(r.slice(r.indexOf(" ")+1)),c=a?e.width/a:e.width,u=l?e.height/l:e.height;return{width:c,height:u,top:d,right:o+c,bottom:d+u,left:o}}(r,t,n))}let{top:n,left:a,width:l,height:i,bottom:s,right:o}=r;return{top:n,left:a,width:l,height:i,bottom:s,right:o}}function tF(e){return tL(e,{ignoreTransform:!0})}function tz(e,t){let r=[];return e?function n(a){var l,i;let s;if(null!=t&&r.length>=t||!a)return r;if(e9(a)&&null!=a.scrollingElement&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!e7(a)||e8(a)||r.includes(a))return r;let o=e5(e).getComputedStyle(a);return(a!==e&&(void 0===(l=o)&&(l=e5(a).getComputedStyle(a)),s=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=l[e];return"string"==typeof t&&s.test(t)}))&&r.push(a),void 0===(i=o)&&(i=e5(a).getComputedStyle(a)),"fixed"===i.position)?r:n(a.parentNode)}(e):r}function t_(e){let[t]=tz(e,1);return null!=t?t:null}function tV(e){return e2&&e?e3(e)?e:e4(e)?e9(e)||e===e6(e).scrollingElement?window:e7(e)?e:null:null:null}function tB(e){return e3(e)?e.scrollX:e.scrollLeft}function tH(e){return e3(e)?e.scrollY:e.scrollTop}function tW(e){return{x:tB(e),y:tH(e)}}function tU(e){return!!e2&&!!e&&e===document.scrollingElement}function tK(e){let t={x:0,y:0},r=tU(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,l=e.scrollLeft<=t.x;return{isTop:a,isLeft:l,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}(n=p||(p={}))[n.Forward=1]="Forward",n[n.Backward=-1]="Backward";let t$={x:.2,y:.2};function tq(e){return e.reduce((e,t)=>td(e,tW(t)),tk)}let tX=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+tB(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+tH(t),0)}]];class tG{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=tz(t),n=tq(r);for(const[t,a,l]of(this.rect={...e},this.width=e.width,this.height=e.height,tX))for(const e of a)Object.defineProperty(this,e,{get:()=>{let a=l(r),i=n[t]-a;return this.rect[e]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class tY{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function tJ(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}function tZ(e){e.preventDefault()}function tQ(e){e.stopPropagation()}(a=f||(f={})).Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange",(l=h||(h={})).Space="Space",l.Down="ArrowDown",l.Right="ArrowRight",l.Left="ArrowLeft",l.Up="ArrowUp",l.Esc="Escape",l.Enter="Enter",l.Tab="Tab";let t0={start:[h.Space,h.Enter],cancel:[h.Esc],end:[h.Space,h.Enter,h.Tab]},t1=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case h.Right:return{...r,x:r.x+25};case h.Left:return{...r,x:r.x-25};case h.Down:return{...r,y:r.y+25};case h.Up:return{...r,y:r.y-25}}};class t2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new tY(e6(t)),this.windowListeners=new tY(e5(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(f.Resize,this.handleCancel),this.windowListeners.add(f.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(f.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=tL),!e)return;let{top:r,left:n,bottom:a,right:l}=t(e);t_(e)&&(a<=0||l<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(tk)}handleKeyDown(e){if(tu(e)){let{active:t,context:r,options:n}=this.props,{keyboardCodes:a=t0,coordinateGetter:l=t1,scrollBehavior:i="smooth"}=n,{code:s}=e;if(a.end.includes(s))return void this.handleEnd(e);if(a.cancel.includes(s))return void this.handleCancel(e);let{collisionRect:o}=r.current,d=o?{x:o.left,y:o.top}:tk;this.referenceCoordinates||(this.referenceCoordinates=d);let c=l(e,{active:t,context:r.current,currentCoordinates:d});if(c){let t=tc(c,d),n={x:0,y:0},{scrollableAncestors:a}=r.current;for(let r of a){let a=e.code,{isTop:l,isRight:s,isLeft:o,isBottom:d,maxScroll:u,minScroll:p}=tK(r),f=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}(r),m={x:Math.min(a===h.Right?f.right-f.width/2:f.right,Math.max(a===h.Right?f.left:f.left+f.width/2,c.x)),y:Math.min(a===h.Down?f.bottom-f.height/2:f.bottom,Math.max(a===h.Down?f.top:f.top+f.height/2,c.y))},g=a===h.Right&&!s||a===h.Left&&!o,v=a===h.Down&&!d||a===h.Up&&!l;if(g&&m.x!==c.x){let e=r.scrollLeft+t.x,l=a===h.Right&&e<=u.x||a===h.Left&&e>=p.x;if(l&&!t.y)return void r.scrollTo({left:e,behavior:i});l?n.x=r.scrollLeft-e:n.x=a===h.Right?r.scrollLeft-u.x:r.scrollLeft-p.x,n.x&&r.scrollBy({left:-n.x,behavior:i});break}if(v&&m.y!==c.y){let e=r.scrollTop+t.y,l=a===h.Down&&e<=u.y||a===h.Up&&e>=p.y;if(l&&!t.x)return void r.scrollTo({top:e,behavior:i});l?n.y=r.scrollTop-e:n.y=a===h.Down?r.scrollTop-u.y:r.scrollTop-p.y,n.y&&r.scrollBy({top:-n.y,behavior:i});break}}this.handleMove(e,td(tc(c,this.referenceCoordinates),n))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function t3(e){return!!(e&&"distance"in e)}function t4(e){return!!(e&&"delay"in e)}t2.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=t0,onActivation:a}=t,{active:l}=r,{code:i}=e.nativeEvent;if(n.start.includes(i)){let t=l.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class t5{constructor(e,t,r){var n;void 0===r&&(r=function(e){let{EventTarget:t}=e5(e);return e instanceof t?e:e6(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:l}=a;this.props=e,this.events=t,this.document=e6(l),this.documentListeners=new tY(this.document),this.listeners=new tY(r),this.windowListeners=new tY(e5(l)),this.initialCoordinates=null!=(n=tp(a))?n:tk,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(f.Resize,this.handleCancel),this.windowListeners.add(f.DragStart,tZ),this.windowListeners.add(f.VisibilityChange,this.handleCancel),this.windowListeners.add(f.ContextMenu,tZ),this.documentListeners.add(f.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(t4(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(t3(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(f.Click,tQ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(f.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:n,props:a}=this,{onMove:l,options:{activationConstraint:i}}=a;if(!n)return;let s=null!=(t=tp(e))?t:tk,o=tc(n,s);if(!r&&i){if(t3(i)){if(null!=i.tolerance&&tJ(o,i.tolerance))return this.handleCancel();if(tJ(o,i.distance))return this.handleStart()}return t4(i)&&tJ(o,i.tolerance)?this.handleCancel():void this.handlePending(i,o)}e.cancelable&&e.preventDefault(),l(s)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===h.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let t9={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class t7 extends t5{constructor(e){const{event:t}=e;super(e,t9,e6(t.target))}}t7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!!r.isPrimary&&0===r.button&&(null==n||n({event:r}),!0)}}];(i=m||(m={}))[i.RightClick=2]="RightClick";(s=g||(g={}))[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect",(o=v||(v={}))[o.TreeOrder=0]="TreeOrder",o[o.ReversedTreeOrder=1]="ReversedTreeOrder";let t8={x:{[p.Backward]:!1,[p.Forward]:!1},y:{[p.Backward]:!1,[p.Forward]:!1}};(d=x||(x={}))[d.Always=0]="Always",d[d.BeforeDragging=1]="BeforeDragging",d[d.WhileDragging=2]="WhileDragging",(b||(b={})).Optimized="optimized";let t6=new Map;function re(e,t){return tn(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function rt(e){let{callback:t,disabled:r}=e,n=tt(t),a=(0,j.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(n)},[r]);return(0,j.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function rr(e){return new tG(tL(e),e)}function rn(e,t,r){void 0===t&&(t=rr);let[n,a]=(0,j.useState)(null);function l(){a(n=>{if(!e)return null;if(!1===e.isConnected){var a;return null!=(a=null!=n?n:r)?a:null}let l=t(e);return JSON.stringify(n)===JSON.stringify(l)?n:l})}let i=function(e){let{callback:t,disabled:r}=e,n=tt(t),a=(0,j.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(n)},[n,r]);return(0,j.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(let r of t){let{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){l();break}}}}),s=rt({callback:l});return te(()=>{l(),e?(null==s||s.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==i||i.disconnect())},[e]),n}let ra=[];function rl(e,t){void 0===t&&(t=[]);let r=(0,j.useRef)(null);return(0,j.useEffect)(()=>{r.current=null},t),(0,j.useEffect)(()=>{let t=e!==tk;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?tc(e,r.current):tk}function ri(e){return(0,j.useMemo)(()=>{let t,r;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:r=e.innerHeight,width:t,height:r}):null},[e])}let rs=[],ro=[{sensor:t7,options:{}},{sensor:t2,options:{}}],rd={current:{}},rc={draggable:{measure:tF},droppable:{measure:tF,strategy:x.WhileDragging,frequency:b.Optimized},dragOverlay:{measure:tL}};class ru extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let rp={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ru,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:tj},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rc,measureDroppableContainers:tj,windowRect:null,measuringScheduled:!1},rf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:tj,draggableNodes:new Map,over:null,measureDroppableContainers:tj},rh=(0,j.createContext)(rf),rm=(0,j.createContext)(rp);function rg(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ru}}}function rv(e,t){switch(t.type){case u.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case u.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case u.DragEnd:case u.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case u.RegisterDroppable:{let{element:r}=t,{id:n}=r,a=new ru(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case u.SetDroppableDisabled:{let{id:r,key:n,disabled:a}=t,l=e.droppable.containers.get(r);if(!l||n!==l.key)return e;let i=new ru(e.droppable.containers);return i.set(r,{...l,disabled:a}),{...e,droppable:{...e.droppable,containers:i}}}case u.UnregisterDroppable:{let{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;let l=new ru(e.droppable.containers);return l.delete(r),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function rx(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:a}=(0,j.useContext)(rh),l=tl(n),i=tl(null==r?void 0:r.id);return(0,j.useEffect)(()=>{if(!t&&!n&&l&&null!=i){if(!tu(l)||document.activeElement===l.target)return;let e=a.get(i);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(th)?e:e.querySelector(th);if(t){t.focus();break}}})}},[n,t,a,i,l]),null}let rb=(0,j.createContext)({...tk,scaleX:1,scaleY:1});(c=y||(y={}))[c.Uninitialized=0]="Uninitialized",c[c.Initializing=1]="Initializing",c[c.Initialized=2]="Initialized";let ry=(0,j.memo)(function(e){var t,r,n,a,l,i,s,o;let d,c,f,h,m,b,w,C,{id:k,accessibility:S,autoScroll:E=!0,children:N,sensors:D=ro,collisionDetection:R=tP,measuring:I,modifiers:M,...P}=e,[T,O]=(0,j.useReducer)(rv,void 0,rg),[A,L]=function(){let[e]=(0,j.useState)(()=>new Set),t=(0,j.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,j.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[F,z]=(0,j.useState)(y.Uninitialized),_=F===y.Initialized,{draggable:{active:V,nodes:B,translate:H},droppable:{containers:W}}=T,U=null!=V?B.get(V):null,K=(0,j.useRef)({initial:null,translated:null}),$=(0,j.useMemo)(()=>{var e;return null!=V?{id:V,data:null!=(e=null==U?void 0:U.data)?e:rd,rect:K}:null},[V,U]),q=(0,j.useRef)(null),[X,G]=(0,j.useState)(null),[Y,J]=(0,j.useState)(null),Z=tr(P,Object.values(P)),Q=ts("DndDescribedBy",k),ee=(0,j.useMemo)(()=>W.getEnabled(),[W]),et=(0,j.useMemo)(()=>({draggable:{...rc.draggable,...null==I?void 0:I.draggable},droppable:{...rc.droppable,...null==I?void 0:I.droppable},dragOverlay:{...rc.dragOverlay,...null==I?void 0:I.dragOverlay}}),[null==I?void 0:I.draggable,null==I?void 0:I.droppable,null==I?void 0:I.dragOverlay]),{droppableRects:er,measureDroppableContainers:en,measuringScheduled:ea}=function(e,t){let{dragging:r,dependencies:n,config:a}=t,[l,i]=(0,j.useState)(null),{frequency:s,measure:o,strategy:d}=a,c=(0,j.useRef)(e),u=function(){switch(d){case x.Always:return!1;case x.BeforeDragging:return r;default:return!r}}(),p=tr(u),f=(0,j.useCallback)(function(e){void 0===e&&(e=[]),p.current||i(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[p]),h=(0,j.useRef)(null),m=tn(t=>{if(u&&!r)return t6;if(!t||t===t6||c.current!==e||null!=l){let t=new Map;for(let r of e){if(!r)continue;if(l&&l.length>0&&!l.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,n=e?new tG(o(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,l,r,u,o]);return(0,j.useEffect)(()=>{c.current=e},[e]),(0,j.useEffect)(()=>{u||f()},[r,u]),(0,j.useEffect)(()=>{l&&l.length>0&&i(null)},[JSON.stringify(l)]),(0,j.useEffect)(()=>{u||"number"!=typeof s||null!==h.current||(h.current=setTimeout(()=>{f(),h.current=null},s))},[s,u,f,...n]),{droppableRects:m,measureDroppableContainers:f,measuringScheduled:null!=l}}(ee,{dragging:_,dependencies:[H.x,H.y],config:et.droppable}),el=tn(e=>{var t;return null==V?null:null!=(t=null!=m?m:e)?t:null},[m=(h=null!=V?B.get(V):void 0)?h.node.current:null,V]),ei=(0,j.useMemo)(()=>Y?tp(Y):null,[Y]),es=(d=(null==X?void 0:X.autoScrollEnabled)===!1,c="object"==typeof E?!1===E.enabled:!1===E,f=_&&!d&&!c,"object"==typeof E?{...E,enabled:f}:{enabled:f}),eo=re(el,et.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e,l=(0,j.useRef)(!1),{x:i,y:s}="boolean"==typeof a?{x:a,y:a}:a;te(()=>{if(!i&&!s||!t){l.current=!1;return}if(l.current||!n)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let a=tT(r(e),n);if(i||(a.x=0),s||(a.y=0),l.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){let t=t_(e);t&&t.scrollBy({top:a.y,left:a.x})}},[t,i,s,n,r])}({activeNode:null!=V?B.get(V):null,config:es.layoutShiftCompensation,initialRect:eo,measure:et.draggable.measure});let ed=rn(el,et.draggable.measure,eo),ec=rn(el?el.parentElement:null),eu=(0,j.useRef)({activatorEvent:null,active:null,activeNode:el,collisionRect:null,collisions:null,droppableRects:er,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:W,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ep=W.getNodeFor(null==(t=eu.current.over)?void 0:t.id),ef=function(e){let{measure:t}=e,[r,n]=(0,j.useState)(null),a=rt({callback:(0,j.useCallback)(e=>{for(let{target:r}of e)if(e7(r)){n(e=>{let n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t])}),[l,i]=ta((0,j.useCallback)(e=>{let r=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return e7(t)?t:e}(e);null==a||a.disconnect(),r&&(null==a||a.observe(r)),n(r?t(r):null)},[t,a]));return(0,j.useMemo)(()=>({nodeRef:l,rect:r,setRef:i}),[r,l,i])}({measure:et.dragOverlay.measure}),eh=null!=(r=ef.nodeRef.current)?r:el,em=_?null!=(n=ef.rect)?n:ed:null,eg=!!(ef.nodeRef.current&&ef.rect),ev=(b=re(l=eg?null:ed),tT(l,b)),ex=ri(eh?e5(eh):null),eb=(i=_?null!=ep?ep:el:null,w=(0,j.useRef)(i),C=tn(e=>i?e&&e!==ra&&i&&w.current&&i.parentNode===w.current.parentNode?e:tz(i):ra,[i]),(0,j.useEffect)(()=>{w.current=i},[i]),C),ey=function(e,t){void 0===t&&(t=tL);let[r]=e,n=ri(r?e5(r):null),[a,l]=(0,j.useState)(rs);function i(){l(()=>e.length?e.map(e=>tU(e)?n:new tG(t(e),e)):rs)}let s=rt({callback:i});return te(()=>{null==s||s.disconnect(),i(),e.forEach(e=>null==s?void 0:s.observe(e))},[e]),a}(eb),ew=function(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}(M,{transform:{x:H.x-ev.x,y:H.y-ev.y,scaleX:1,scaleY:1},activatorEvent:Y,active:$,activeNodeRect:ed,containerNodeRect:ec,draggingNodeRect:em,over:eu.current.over,overlayNodeRect:ef.rect,scrollableAncestors:eb,scrollableAncestorRects:ey,windowRect:ex}),ej=ei?td(ei,H):null,eC=function(e){let[t,r]=(0,j.useState)(null),n=(0,j.useRef)(e),a=(0,j.useCallback)(e=>{let t=tV(e.target);t&&r(e=>e?(e.set(t,tW(t)),new Map(e)):null)},[]);return(0,j.useEffect)(()=>{let t=n.current;if(e!==t){l(t);let i=e.map(e=>{let t=tV(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,tW(t)]):null}).filter(e=>null!=e);r(i.length?new Map(i):null),n.current=e}return()=>{l(e),l(t)};function l(e){e.forEach(e=>{let t=tV(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),(0,j.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>td(e,t),tk):tq(e):tk,[e,t])}(eb),ek=rl(eC),eS=rl(eC,[ed]),eE=td(ew,ek),eN=em?tO(em,ew):null,eD=$&&eN?R({active:$,collisionRect:eN,droppableRects:er,droppableContainers:ee,pointerCoordinates:ej}):null,eR=tR(eD,"id"),[eI,eM]=(0,j.useState)(null),eP=(s=eg?ew:td(ew,eS),o=null!=(a=null==eI?void 0:eI.rect)?a:null,{...s,scaleX:o&&ed?o.width/ed.width:1,scaleY:o&&ed?o.height/ed.height:1}),eT=(0,j.useRef)(null),eO=(0,j.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==q.current)return;let a=B.get(q.current);if(!a)return;let l=e.nativeEvent,i=new r({active:q.current,activeNode:a,event:l,options:n,context:eu,onAbort(e){if(!B.get(e))return;let{onDragAbort:t}=Z.current,r={id:e};null==t||t(r),A({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!B.get(e))return;let{onDragPending:a}=Z.current,l={id:e,constraint:t,initialCoordinates:r,offset:n};null==a||a(l),A({type:"onDragPending",event:l})},onStart(e){let t=q.current;if(null==t)return;let r=B.get(t);if(!r)return;let{onDragStart:n}=Z.current,a={activatorEvent:l,active:{id:t,data:r.data,rect:K}};(0,e1.unstable_batchedUpdates)(()=>{null==n||n(a),z(y.Initializing),O({type:u.DragStart,initialCoordinates:e,active:t}),A({type:"onDragStart",event:a}),G(eT.current),J(l)})},onMove(e){O({type:u.DragMove,coordinates:e})},onEnd:s(u.DragEnd),onCancel:s(u.DragCancel)});function s(e){return async function(){let{active:t,collisions:r,over:n,scrollAdjustedTranslate:a}=eu.current,i=null;if(t&&a){let{cancelDrop:s}=Z.current;i={activatorEvent:l,active:t,collisions:r,delta:a,over:n},e===u.DragEnd&&"function"==typeof s&&await Promise.resolve(s(i))&&(e=u.DragCancel)}q.current=null,(0,e1.unstable_batchedUpdates)(()=>{O({type:e}),z(y.Uninitialized),eM(null),G(null),J(null),eT.current=null;let t=e===u.DragEnd?"onDragEnd":"onDragCancel";if(i){let e=Z.current[t];null==e||e(i),A({type:t,event:i})}})}}eT.current=i},[B]),eA=(0,j.useCallback)((e,t)=>(r,n)=>{let a=r.nativeEvent,l=B.get(n);null!==q.current||!l||a.dndKit||a.defaultPrevented||!0===e(r,t.options,{active:l})&&(a.dndKit={capturedBy:t.sensor},q.current=n,eO(r,t))},[B,eO]),eL=(0,j.useMemo)(()=>D.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:eA(e.handler,t)}))]},[]),[D,eA]);(0,j.useEffect)(()=>{if(!e2)return;let e=D.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},D.map(e=>{let{sensor:t}=e;return t})),te(()=>{ed&&F===y.Initializing&&z(y.Initialized)},[ed,F]),(0,j.useEffect)(()=>{let{onDragMove:e}=Z.current,{active:t,activatorEvent:r,collisions:n,over:a}=eu.current;if(!t||!r)return;let l={active:t,activatorEvent:r,collisions:n,delta:{x:eE.x,y:eE.y},over:a};(0,e1.unstable_batchedUpdates)(()=>{null==e||e(l),A({type:"onDragMove",event:l})})},[eE.x,eE.y]),(0,j.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:a}=eu.current;if(!e||null==q.current||!t||!a)return;let{onDragOver:l}=Z.current,i=n.get(eR),s=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,o={active:e,activatorEvent:t,collisions:r,delta:{x:a.x,y:a.y},over:s};(0,e1.unstable_batchedUpdates)(()=>{eM(s),null==l||l(o),A({type:"onDragOver",event:o})})},[eR]),te(()=>{eu.current={activatorEvent:Y,active:$,activeNode:el,collisionRect:eN,collisions:eD,droppableRects:er,draggableNodes:B,draggingNode:eh,draggingNodeRect:em,droppableContainers:W,over:eI,scrollableAncestors:eb,scrollAdjustedTranslate:eE},K.current={initial:em,translated:eN}},[$,el,eD,eN,B,eh,em,er,W,eI,eb,eE]),function(e){let t,{acceleration:r,activator:n=g.Pointer,canScroll:a,draggingRect:l,enabled:i,interval:s=5,order:o=v.TreeOrder,pointerCoordinates:d,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:h}=e,m=function(e){let{delta:t,disabled:r}=e,n=tl(t);return tn(e=>{if(r||!n||!e)return t8;let a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[p.Backward]:e.x[p.Backward]||-1===a.x,[p.Forward]:e.x[p.Forward]||1===a.x},y:{[p.Backward]:e.y[p.Backward]||-1===a.y,[p.Forward]:e.y[p.Forward]||1===a.y}}},[r,t,n])}({delta:f,disabled:!i}),[x,b]=(t=(0,j.useRef)(null),[(0,j.useCallback)((e,r)=>{t.current=setInterval(e,r)},[]),(0,j.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]),y=(0,j.useRef)({x:0,y:0}),w=(0,j.useRef)({x:0,y:0}),C=(0,j.useMemo)(()=>{switch(n){case g.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case g.DraggableRect:return l}},[n,l,d]),k=(0,j.useRef)(null),S=(0,j.useCallback)(()=>{let e=k.current;if(!e)return;let t=y.current.x*w.current.x,r=y.current.y*w.current.y;e.scrollBy(t,r)},[]),E=(0,j.useMemo)(()=>o===v.TreeOrder?[...c].reverse():c,[o,c]);(0,j.useEffect)(()=>{if(!i||!c.length||!C)return void b();for(let e of E){if((null==a?void 0:a(e))===!1)continue;let t=u[c.indexOf(e)];if(!t)continue;let{direction:n,speed:l}=function(e,t,r,n,a){let{top:l,left:i,right:s,bottom:o}=r;void 0===n&&(n=10),void 0===a&&(a=t$);let{isTop:d,isBottom:c,isLeft:u,isRight:f}=tK(e),h={x:0,y:0},m={x:0,y:0},g={height:t.height*a.y,width:t.width*a.x};return!d&&l<=t.top+g.height?(h.y=p.Backward,m.y=n*Math.abs((t.top+g.height-l)/g.height)):!c&&o>=t.bottom-g.height&&(h.y=p.Forward,m.y=n*Math.abs((t.bottom-g.height-o)/g.height)),!f&&s>=t.right-g.width?(h.x=p.Forward,m.x=n*Math.abs((t.right-g.width-s)/g.width)):!u&&i<=t.left+g.width&&(h.x=p.Backward,m.x=n*Math.abs((t.left+g.width-i)/g.width)),{direction:h,speed:m}}(e,t,C,r,h);for(let e of["x","y"])m[e][n[e]]||(l[e]=0,n[e]=0);if(l.x>0||l.y>0){b(),k.current=e,x(S,s),y.current=l,w.current=n;return}}y.current={x:0,y:0},w.current={x:0,y:0},b()},[r,S,a,b,i,s,JSON.stringify(C),JSON.stringify(m),x,c,E,u,JSON.stringify(h)])}({...es,delta:H,draggingRect:eN,pointerCoordinates:ej,scrollableAncestors:eb,scrollableAncestorRects:ey});let eF=(0,j.useMemo)(()=>({active:$,activeNode:el,activeNodeRect:ed,activatorEvent:Y,collisions:eD,containerNodeRect:ec,dragOverlay:ef,draggableNodes:B,droppableContainers:W,droppableRects:er,over:eI,measureDroppableContainers:en,scrollableAncestors:eb,scrollableAncestorRects:ey,measuringConfiguration:et,measuringScheduled:ea,windowRect:ex}),[$,el,ed,Y,eD,ec,ef,B,W,er,eI,en,eb,ey,et,ea,ex]),ez=(0,j.useMemo)(()=>({activatorEvent:Y,activators:eL,active:$,activeNodeRect:ed,ariaDescribedById:{draggable:Q},dispatch:O,draggableNodes:B,over:eI,measureDroppableContainers:en}),[Y,eL,$,ed,O,Q,B,eI,en]);return j.default.createElement(tx.Provider,{value:L},j.default.createElement(rh.Provider,{value:ez},j.default.createElement(rm.Provider,{value:eF},j.default.createElement(rb.Provider,{value:eP},N)),j.default.createElement(rx,{disabled:(null==S?void 0:S.restoreFocus)===!1})),j.default.createElement(tw,{...S,hiddenTextDescribedById:Q}))}),rw=(0,j.createContext)(null),rj="button",rC={timeout:25},rk={position:"fixed",touchAction:"none"},rS=e=>tu(e)?"transform 250ms ease":void 0;function rE(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function rN(e){return null!==e&&e>=0}t={styles:{active:{opacity:"0"}}},e=>{let{active:r,dragOverlay:n}=e,a={},{styles:l,className:i}=t;if(null!=l&&l.active)for(let[e,t]of Object.entries(l.active))void 0!==t&&(a[e]=r.node.style.getPropertyValue(e),r.node.style.setProperty(e,t));if(null!=l&&l.dragOverlay)for(let[e,t]of Object.entries(l.dragOverlay))void 0!==t&&n.node.style.setProperty(e,t);return null!=i&&i.active&&r.node.classList.add(i.active),null!=i&&i.dragOverlay&&n.node.classList.add(i.dragOverlay),function(){for(let[e,t]of Object.entries(a))r.node.style.setProperty(e,t);null!=i&&i.active&&r.node.classList.remove(i.active)}};let rD=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e,l=rE(t,n,r),i=t[a],s=l[a];return s&&i?{x:s.left-i.left,y:s.top-i.top,scaleX:s.width/i.width,scaleY:s.height/i.height}:null},rR={scaleX:1,scaleY:1},rI=e=>{var t,r,n,a;let l,i,s,{activeIndex:o,activeNodeRect:d,index:c,rects:u,overIndex:p}=e,f=null!=(t=u[o])?t:d;if(!f)return null;if(c===o){let e=u[p];return e?{x:0,y:o<p?e.top+e.height-(f.top+f.height):e.top-f.top,...rR}:null}let h=(r=u,n=c,a=o,l=r[n],i=r[n-1],s=r[n+1],l?a<n?i?l.top-(i.top+i.height):s?s.top-(l.top+l.height):0:s?s.top-(l.top+l.height):i?l.top-(i.top+i.height):0:0);return c>o&&c<=p?{x:0,y:-f.height-h,...rR}:c<o&&c>=p?{x:0,y:f.height+h,...rR}:{x:0,y:0,...rR}},rM="Sortable",rP=j.default.createContext({activeIndex:-1,containerId:rM,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rD,disabled:{draggable:!1,droppable:!1}});function rT(e){let{children:t,id:r,items:n,strategy:a=rD,disabled:l=!1}=e,{active:i,dragOverlay:s,droppableRects:o,over:d,measureDroppableContainers:c}=(0,j.useContext)(rm),u=ts(rM,r),p=null!==s.rect,f=(0,j.useMemo)(()=>n.map(e=>"object"==typeof e&&"id"in e?e.id:e),[n]),h=null!=i,m=i?f.indexOf(i.id):-1,g=d?f.indexOf(d.id):-1,v=(0,j.useRef)(f),x=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(f,v.current),b=-1!==g&&-1===m||x,y="boolean"==typeof l?{draggable:l,droppable:l}:l;te(()=>{x&&h&&c(f)},[x,f,h,c]),(0,j.useEffect)(()=>{v.current=f},[f]);let w=(0,j.useMemo)(()=>({activeIndex:m,containerId:u,disabled:y,disableTransforms:b,items:f,overIndex:g,useDragOverlay:p,sortedRects:f.reduce((e,t,r)=>{let n=o.get(t);return n&&(e[r]=n),e},Array(f.length)),strategy:a}),[m,u,y.draggable,y.droppable,b,f,g,o,p,a]);return j.default.createElement(rP.Provider,{value:w},t)}let rO=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return rE(r,n,a).indexOf(t)},rA=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:l,newIndex:i,previousItems:s,previousContainerId:o,transition:d}=e;return!!d&&!!n&&(s===l||a!==i)&&(!!r||i!==a&&t===o)},rL={duration:200,easing:"ease"},rF="transform",rz=tf.Transition.toString({property:rF,duration:0,easing:"linear"}),r_={roleDescription:"sortable"};function rV(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let rB=[h.Down,h.Right,h.Up,h.Left],rH=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:a,droppableContainers:l,over:i,scrollableAncestors:s}}=t;if(rB.includes(e.code)){if(e.preventDefault(),!r||!n)return;let t=[];l.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let l=a.get(r.id);if(l)switch(e.code){case h.Down:n.top<l.top&&t.push(r);break;case h.Up:n.top>l.top&&t.push(r);break;case h.Left:n.left>l.left&&t.push(r);break;case h.Right:n.left<l.left&&t.push(r)}});let c=(e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,a=tD(t),l=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=tD(n),i=Number((a.reduce((e,t,n)=>e+tS(r[n],t),0)/4).toFixed(4));l.push({id:t,data:{droppableContainer:e,value:i}})}}return l.sort(tE)})({active:r,collisionRect:n,droppableRects:a,droppableContainers:t,pointerCoordinates:null}),u=tR(c,"id");if(u===(null==i?void 0:i.id)&&c.length>1&&(u=c[1].id),null!=u){let e=l.get(r.id),t=l.get(u),i=t?a.get(t.id):null,c=null==t?void 0:t.node.current;if(c&&i&&e&&t){var o,d;let r=tz(c).some((e,t)=>s[t]!==e),a=rW(e,t),l=(o=e,d=t,!!rV(o)&&!!rV(d)&&!!rW(o,d)&&o.data.current.sortable.index<d.data.current.sortable.index),u=r||!a?{x:0,y:0}:{x:l?n.width-i.width:0,y:l?n.height-i.height:0},p={x:i.left,y:i.top};return u.x&&u.y?p:tc(p,u)}}}};function rW(e,t){return!!rV(e)&&!!rV(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}let rU=(0,em.default)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),rK=(0,em.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var r$=e.i(37724),rq=e.i(66060),rX=e.i(30686),rG=e.i(13759);function rY({className:e,...t}){return(0,w.jsx)("textarea",{"data-slot":"textarea",className:(0,ev.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var rJ=e.i(51720),rZ=e.i(18448),rQ=e.i(59265);let r0=["24 hour Notification Appointment - at the customer's site","24 hour Notification Appointment - at the dealership","Event notification to the customer","Event Notification to Organiser Event notification to the customer","Event reminder to the organiser","Leadspark - owner not recognized","LeadSparK - Task warning","LeadSparK login credentials","New lead received","New record assigned","Task assigned to the team","Update brand alias","{{ channel_integration.name }} integration - User sync failure","%dealerName%.leadspark.app","OEM Instance - Receive Leads"],r1=["24 hour notification SMS appointment - customer site","24 hour notification SMS appointment - dealership","Event notification to the customer","Event reminder to the organiser"];function r2({step:e,steps:t,onRemove:r,onUpdate:n}){let{attributes:a,listeners:l,setNodeRef:i,transform:s,transition:o,isDragging:d}=function(e){var t,r,n,a;let{animateLayoutChanges:l=rA,attributes:i,disabled:s,data:o,getNewIndex:d=rO,id:c,strategy:p,resizeObserverConfig:f,transition:h=rL}=e,{items:m,containerId:g,activeIndex:v,disabled:x,disableTransforms:b,sortedRects:y,overIndex:w,useDragOverlay:C,strategy:k}=(0,j.useContext)(rP),S=(t=s,r=x,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(n=null==t?void 0:t.draggable)?n:r.draggable,droppable:null!=(a=null==t?void 0:t.droppable)?a:r.droppable}),E=m.indexOf(c),N=(0,j.useMemo)(()=>({sortable:{containerId:g,index:E,items:m},...o}),[g,o,E,m]),D=(0,j.useMemo)(()=>m.slice(m.indexOf(c)),[m,c]),{rect:R,node:I,isOver:M,setNodeRef:P}=function(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e,l=ts("Droppable"),{active:i,dispatch:s,over:o,measureDroppableContainers:d}=(0,j.useContext)(rh),c=(0,j.useRef)({disabled:r}),p=(0,j.useRef)(!1),f=(0,j.useRef)(null),h=(0,j.useRef)(null),{disabled:m,updateMeasurementsFor:g,timeout:v}={...rC,...a},x=tr(null!=g?g:n),b=rt({callback:(0,j.useCallback)(()=>{if(!p.current){p.current=!0;return}null!=h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),h.current=null},v)},[v]),disabled:m||!i}),[y,w]=ta((0,j.useCallback)((e,t)=>{b&&(t&&(b.unobserve(t),p.current=!1),e&&b.observe(e))},[b])),C=tr(t);return(0,j.useEffect)(()=>{b&&y.current&&(b.disconnect(),p.current=!1,b.observe(y.current))},[y,b]),(0,j.useEffect)(()=>(s({type:u.RegisterDroppable,element:{id:n,key:l,disabled:r,node:y,rect:f,data:C}}),()=>s({type:u.UnregisterDroppable,key:l,id:n})),[n]),(0,j.useEffect)(()=>{r!==c.current.disabled&&(s({type:u.SetDroppableDisabled,id:n,key:l,disabled:r}),c.current.disabled=r)},[n,l,r,s]),{active:i,rect:f,isOver:(null==o?void 0:o.id)===n,node:y,over:o,setNodeRef:w}}({id:c,data:N,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...f}}),{active:T,activatorEvent:O,activeNodeRect:A,attributes:L,setNodeRef:F,listeners:z,isDragging:_,over:V,setActivatorNodeRef:B,transform:H}=function(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e,l=ts("Draggable"),{activators:i,activatorEvent:s,active:o,activeNodeRect:d,ariaDescribedById:c,draggableNodes:u,over:p}=(0,j.useContext)(rh),{role:f=rj,roleDescription:h="draggable",tabIndex:m=0}=null!=a?a:{},g=(null==o?void 0:o.id)===t,v=(0,j.useContext)(g?rb:rw),[x,b]=ta(),[y,w]=ta(),C=(0,j.useMemo)(()=>i.reduce((e,r)=>{let{eventName:n,handler:a}=r;return e[n]=e=>{a(e,t)},e},{}),[i,t]),k=tr(r);return te(()=>(u.set(t,{id:t,key:l,node:x,activatorNode:y,data:k}),()=>{let e=u.get(t);e&&e.key===l&&u.delete(t)}),[u,t]),{active:o,activatorEvent:s,activeNodeRect:d,attributes:(0,j.useMemo)(()=>({role:f,tabIndex:m,"aria-disabled":n,"aria-pressed":!!g&&f===rj||void 0,"aria-roledescription":h,"aria-describedby":c.draggable}),[n,f,m,g,h,c.draggable]),isDragging:g,listeners:n?void 0:C,node:x,over:p,setNodeRef:b,setActivatorNodeRef:w,transform:v}}({id:c,data:N,attributes:{...r_,...i},disabled:S.draggable}),W=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,j.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(P,F),U=!!T,K=U&&!b&&rN(v)&&rN(w),$=!C&&_,q=$&&K?H:null,X=K?null!=q?q:(null!=p?p:k)({rects:y,activeNodeRect:A,activeIndex:v,overIndex:w,index:E}):null,G=rN(v)&&rN(w)?d({id:c,items:m,activeIndex:v,overIndex:w}):E,Y=null==T?void 0:T.id,J=(0,j.useRef)({activeId:Y,items:m,newIndex:G,containerId:g}),Z=m!==J.current.items,Q=l({active:T,containerId:g,isDragging:_,isSorting:U,id:c,index:E,items:m,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:h,wasDragging:null!=J.current.activeId}),ee=function(e){let{disabled:t,index:r,node:n,rect:a}=e,[l,i]=(0,j.useState)(null),s=(0,j.useRef)(r);return te(()=>{if(!t&&r!==s.current&&n.current){let e=a.current;if(e){let t=tL(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&i(r)}}r!==s.current&&(s.current=r)},[t,r,n,a]),(0,j.useEffect)(()=>{l&&i(null)},[l]),l}({disabled:!Q,index:E,node:I,rect:R});return(0,j.useEffect)(()=>{U&&J.current.newIndex!==G&&(J.current.newIndex=G),g!==J.current.containerId&&(J.current.containerId=g),m!==J.current.items&&(J.current.items=m)},[U,G,g,m]),(0,j.useEffect)(()=>{if(Y===J.current.activeId)return;if(null!=Y&&null==J.current.activeId){J.current.activeId=Y;return}let e=setTimeout(()=>{J.current.activeId=Y},50);return()=>clearTimeout(e)},[Y]),{active:T,activeIndex:v,attributes:L,data:N,rect:R,index:E,newIndex:G,items:m,isOver:M,isSorting:U,isDragging:_,listeners:z,node:I,overIndex:w,over:V,setNodeRef:W,setActivatorNodeRef:B,setDroppableNodeRef:P,setDraggableNodeRef:F,transform:null!=ee?ee:X,transition:ee||Z&&J.current.newIndex===E?rz:(!$||tu(O))&&h&&(U||Q)?tf.Transition.toString({...h,property:rF}):void 0}}({id:e.id}),[c,p]=(0,j.useState)(!1),{t:f}=(0,rQ.useLanguage)(),h={transform:tf.Transform.toString(s),transition:o};return(0,w.jsxs)("div",{ref:i,style:h,className:(0,ev.cn)("bg-white border-2 border-gray-200 rounded-[4px] overflow-hidden transition-all",d&&"opacity-50 shadow-lg",c&&"border-blue-200"),children:[(0,w.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white",children:[(0,w.jsx)("button",{className:"touch-none cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600",...a,...l,children:(0,w.jsx)(rU,{className:"h-5 w-5"})}),(0,w.jsxs)("span",{className:"text-sm font-semibold text-gray-500 min-w-[32px]",children:["#",t.findIndex(t=>t.id===e.id)+1]}),(0,w.jsxs)(rJ.Select,{value:e.type,onValueChange:t=>n({...e,type:t}),children:[(0,w.jsx)(rJ.SelectTrigger,{className:"flex-1 bg-white",children:(0,w.jsx)(rJ.SelectValue,{})}),(0,w.jsxs)(rJ.SelectContent,{children:[(0,w.jsx)(rJ.SelectItem,{value:"ai-call",children:f("timeline.sendAiCall")}),(0,w.jsx)(rJ.SelectItem,{value:"email",children:f("timeline.sendEmail")}),(0,w.jsx)(rJ.SelectItem,{value:"sms",children:f("timeline.sendSms")})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:f("timeline.delay")}),(0,w.jsx)(rG.Input,{type:"number",value:e.delay,onChange:t=>n({...e,delay:Number.parseInt(t.target.value)||0}),className:"w-20 bg-white",min:"0"})]}),(0,w.jsx)(rX.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-[#E41C24] hover:text-[#C11119] hover:bg-red-50",onClick:r,children:(0,w.jsx)(rK,{className:"h-4 w-4"})})]}),(0,w.jsxs)(rZ.Collapsible,{open:c,onOpenChange:p,children:[(0,w.jsx)(rZ.CollapsibleTrigger,{asChild:!0,children:(0,w.jsxs)("button",{className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors border-t border-gray-200",children:[(0,w.jsx)("span",{className:"font-medium text-sm text-gray-700",children:f("timeline.settings")}),(0,w.jsx)(r$.ChevronDown,{className:(0,ev.cn)("h-4 w-4 text-gray-500 transition-transform",c&&"rotate-180")})]})}),(0,w.jsx)(rZ.CollapsibleContent,{children:(0,w.jsx)("div",{className:"px-4 py-4 bg-gray-50 border-t border-gray-200",children:(()=>{switch(e.type){case"ai-call":let t=e.settings;return(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsx)("h4",{className:"font-medium text-sm",children:f("timeline.aiAgentSettings")}),(0,w.jsx)("p",{className:"text-sm text-muted-foreground",children:f("timeline.aiAgentDescription")}),(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(eS,{children:f("timeline.startAfter")}),(0,w.jsx)(rG.Input,{type:"number",value:t.startAfter,onChange:r=>n({...e,settings:{...t,startAfter:Number.parseInt(r.target.value)||0}})}),(0,w.jsx)("p",{className:"text-xs text-muted-foreground",children:f("timeline.startAfterDescription")})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(eS,{children:f("timeline.retryInterval")}),(0,w.jsx)(rG.Input,{type:"number",value:t.retryInterval,onChange:r=>n({...e,settings:{...t,retryInterval:Number.parseInt(r.target.value)||0}})}),(0,w.jsx)("p",{className:"text-xs text-muted-foreground",children:f("timeline.retryIntervalDescription")})]})]}),(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(eS,{children:f("timeline.maxRetries")}),(0,w.jsx)(rG.Input,{type:"number",value:t.maxRetries,onChange:r=>n({...e,settings:{...t,maxRetries:Number.parseInt(r.target.value)||0}})})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(eS,{children:f("timeline.voiceType")}),(0,w.jsxs)(rJ.Select,{value:t.voiceType,onValueChange:r=>n({...e,settings:{...t,voiceType:r}}),children:[(0,w.jsx)(rJ.SelectTrigger,{children:(0,w.jsx)(rJ.SelectValue,{})}),(0,w.jsxs)(rJ.SelectContent,{children:[(0,w.jsx)(rJ.SelectItem,{value:"female1",children:"Female 1"}),(0,w.jsx)(rJ.SelectItem,{value:"female2",children:"Female 2"}),(0,w.jsx)(rJ.SelectItem,{value:"male1",children:"Male 1"}),(0,w.jsx)(rJ.SelectItem,{value:"male2",children:"Male 2"})]})]})]})]}),(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(eS,{children:f("timeline.callWindowFrom")}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(rG.Input,{type:"time",value:t.callWindowFrom,onChange:r=>n({...e,settings:{...t,callWindowFrom:r.target.value}})}),(0,w.jsx)(rq.Clock,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(eS,{children:f("timeline.callWindowTo")}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(rG.Input,{type:"time",value:t.callWindowTo,onChange:r=>n({...e,settings:{...t,callWindowTo:r.target.value}})}),(0,w.jsx)(rq.Clock,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]})]})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(eS,{children:f("timeline.personaScript")}),(0,w.jsx)(rY,{value:t.personaScript,onChange:r=>n({...e,settings:{...t,personaScript:r.target.value}}),rows:4,placeholder:"Hello, this is Sarah from AutoHaus. I'm calling to follow up on your recent experience with us..."}),(0,w.jsx)("p",{className:"text-xs text-muted-foreground",children:f("timeline.personaScriptDescription")})]})]});case"email":let r=e.settings;return(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsx)("h4",{className:"font-medium text-sm",children:f("timeline.emailTemplate")}),(0,w.jsx)("p",{className:"text-sm text-muted-foreground",children:f("timeline.emailTemplateDescription")}),(0,w.jsx)("div",{className:"space-y-2",children:(0,w.jsxs)(rJ.Select,{value:r.template,onValueChange:t=>n({...e,settings:{template:t}}),children:[(0,w.jsx)(rJ.SelectTrigger,{className:"bg-white",children:(0,w.jsx)(rJ.SelectValue,{placeholder:f("timeline.selectTemplatePlaceholder")})}),(0,w.jsx)(rJ.SelectContent,{children:r0.map(e=>(0,w.jsx)(rJ.SelectItem,{value:e,children:e},e))})]})})]});case"sms":let a=e.settings;return(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsx)("h4",{className:"font-medium text-sm",children:f("timeline.smsTemplate")}),(0,w.jsx)("p",{className:"text-sm text-muted-foreground",children:f("timeline.smsTemplateDescription")}),(0,w.jsx)("div",{className:"space-y-2",children:(0,w.jsxs)(rJ.Select,{value:a.template,onValueChange:t=>n({...e,settings:{template:t}}),children:[(0,w.jsx)(rJ.SelectTrigger,{className:"bg-white",children:(0,w.jsx)(rJ.SelectValue,{placeholder:f("timeline.selectTemplatePlaceholder")})}),(0,w.jsx)(rJ.SelectContent,{children:r1.map(e=>(0,w.jsx)(rJ.SelectItem,{value:e,children:e},e))})]})})]})}})()})})]})]})}function r3({steps:e,onChange:t,triggerDays:r=7,onTriggerChange:n}){let{t:a}=(0,rQ.useLanguage)(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,j.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(tC(t7),tC(t2,{coordinateGetter:rH})),i=r=>{t(e.map(e=>e.id===r.id?r:e))};return(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-[4px] p-6 mb-6",children:[(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsx)(eS,{className:"text-sm font-medium text-[#333333] whitespace-nowrap",children:a("settings.triggerLabel")}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(rG.Input,{type:"number",value:r,onChange:e=>n?.(Number.parseInt(e.target.value)||0),className:"w-24 bg-white",min:"0"}),(0,w.jsx)("span",{className:"text-sm text-gray-600",children:a("settings.daysAfterPurchase")})]})]}),(0,w.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:[a("settings.triggerLabel")," ",r," ",a("settings.daysAfterPurchase")]})]}),(0,w.jsx)("div",{className:"flex items-center justify-end mb-6",children:(0,w.jsxs)(rX.Button,{onClick:()=>{t([...e,{id:`step-${Date.now()}`,type:"email",delay:0,settings:{template:r0[0]}}])},variant:"outline",size:"sm",className:"bg-white rounded-[4px]",children:[(0,w.jsx)("span",{className:"mr-2",children:"+"}),a("timeline.addStep")]})}),(0,w.jsx)(ry,{sensors:l,collisionDetection:tM,onDragEnd:r=>{let{active:n,over:a}=r;if(a&&n.id!==a.id){let r=e.findIndex(e=>e.id===n.id),l=e.findIndex(e=>e.id===a.id);t(rE(e,r,l))}},children:(0,w.jsx)(rT,{items:e.map(e=>e.id),strategy:rI,children:(0,w.jsx)("div",{className:"space-y-4",children:e.map(r=>(0,w.jsx)(r2,{step:r,steps:e,onRemove:()=>{var n;return n=r.id,void t(e.filter(e=>e.id!==n))},onUpdate:i},r.id))})})}),0===e.length&&(0,w.jsx)("div",{className:"text-center py-12 text-gray-400 bg-gray-50 rounded-[4px] border-2 border-dashed border-gray-200",children:(0,w.jsx)("p",{className:"text-sm",children:a("timeline.addStep")})})]})}e.s(["TimelineFlow",()=>r3],4731);var r4="Switch",[r5,r9]=(0,S.createContextScope)(r4),[r7,r8]=r5(r4),r6=j.forwardRef((e,t)=>{let{__scopeSwitch:r,name:n,checked:a,defaultChecked:l,required:i,disabled:s,value:o="on",onCheckedChange:d,form:c,...u}=e,[p,f]=j.useState(null),h=(0,k.useComposedRefs)(t,e=>f(e)),m=j.useRef(!1),g=!p||c||!!p.closest("form"),[v=!1,x]=(0,N.useControllableState)({prop:a,defaultProp:l,onChange:d});return(0,w.jsxs)(r7,{scope:r,checked:v,disabled:s,children:[(0,w.jsx)(P.Primitive.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":nn(v),"data-disabled":s?"":void 0,disabled:s,value:o,...u,ref:h,onClick:(0,C.composeEventHandlers)(e.onClick,e=>{x(e=>!e),g&&(m.current=e.isPropagationStopped(),m.current||e.stopPropagation())})}),g&&(0,w.jsx)(nr,{control:p,bubbles:!m.current,name:n,value:o,checked:v,required:i,disabled:s,form:c,style:{transform:"translateX(-100%)"}})]})});r6.displayName=r4;var ne="SwitchThumb",nt=j.forwardRef((e,t)=>{let{__scopeSwitch:r,...n}=e,a=r8(ne,r);return(0,w.jsx)(P.Primitive.span,{"data-state":nn(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});nt.displayName=ne;var nr=e=>{let{control:t,checked:r,bubbles:n=!0,...a}=e,l=j.useRef(null),i=(0,eR.usePrevious)(r),s=(0,eD.useSize)(t);return j.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==r&&t){let a=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(a)}},[i,r,n]),(0,w.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function nn(e){return e?"checked":"unchecked"}function na({className:e,...t}){return(0,w.jsx)(r6,{"data-slot":"switch",className:(0,ev.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,w.jsx)(nt,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>na],48598)},27986,e=>{"use strict";let t=(0,e.i(28091).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],27986)},3265,71345,e=>{"use strict";var t=e.i(91966),r=e.i(35730),n=e.i(86427),a=e.i(48598),l=e.i(30686),i=e.i(27986),s=e.i(59265);function o({detractorActions:e,nonResponderActions:o,onChange:d}){let{t:c}=(0,s.useLanguage)(),[u,p]=(0,r.useState)(e||{createFidsparkDispute:!1,createLeadsparkTask:!0}),[f,h]=(0,r.useState)(o||{createFidsparkDispute:!1,createLeadsparkTask:!0}),m=(e,t)=>{let r={...u,[e]:t};p(r),d?.({detractors:r,nonResponders:f})},g=(e,t)=>{let r={...f,[e]:t};h(r),d?.({detractors:u,nonResponders:r})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"text-base font-semibold text-red-600 mb-1",children:[c("outcomes.detractors")," (0-6)"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Actions for customers who gave low scores"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(n.Label,{htmlFor:"fidspark-dispute",className:"text-sm font-normal",children:"Create Fidspark Dispute"}),(0,t.jsx)(a.Switch,{id:"fidspark-dispute",checked:u.createFidsparkDispute,onCheckedChange:e=>m("createFidsparkDispute",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(n.Label,{htmlFor:"leadspark-task",className:"text-sm font-normal",children:c("outcomes.createTask")}),(0,t.jsx)(a.Switch,{id:"leadspark-task",checked:u.createLeadsparkTask,onCheckedChange:e=>m("createLeadsparkTask",e)})]})]})]}),(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-gray-600 mb-1",children:c("outcomes.nonResponders")}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:c("outcomes.nonRespondersDescription")}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(n.Label,{htmlFor:"nonresponder-fidspark-dispute",className:"text-sm font-normal",children:"Create Fidspark Dispute"}),(0,t.jsx)(a.Switch,{id:"nonresponder-fidspark-dispute",checked:f.createFidsparkDispute,onCheckedChange:e=>g("createFidsparkDispute",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(n.Label,{htmlFor:"nonresponder-leadspark-task",className:"text-sm font-normal",children:c("outcomes.createTask")}),(0,t.jsx)(a.Switch,{id:"nonresponder-leadspark-task",checked:f.createLeadsparkTask,onCheckedChange:e=>g("createLeadsparkTask",e)})]})]})]}),(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"text-base font-semibold text-green-600 mb-1",children:[c("outcomes.promoters")," (9-10)"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Actions for satisfied customers"}),(0,t.jsxs)(l.Button,{className:"w-full justify-between bg-black hover:bg-gray-900 text-white",onClick:()=>window.open("https://fidspark.com/reviews","_blank"),children:[(0,t.jsx)("span",{children:c("outcomes.manageOnFidspark")}),(0,t.jsx)(i.ExternalLink,{className:"h-4 w-4 text-white"})]})]}),(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-amber-600 mb-1",children:"Passives (7-8)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"No automatic action configured for passive responses"})]})]})}e.s(["OutcomesSettings",()=>o],3265);var d=/[\\\/_+.#"@\[\(\{&]/,c=/[\\\/_+.#"@\[\(\{&]/g,u=/[\s-]/,p=/[\s-]/g;function f(e){return e.toLowerCase().replace(p," ")}var h=e.i(78170);e.i(43610);var m=e.i(57110),g=Symbol.for("react.lazy"),v=r[" use ".trim().toString()];function x(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===g&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var b=Symbol("radix.slottable");function y(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===b}var w=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{var a,l;let i,s,o,d=(l=a=`Primitive.${n}`,(i=r.forwardRef((e,t)=>{let{children:n,...a}=e;if(x(n)&&"function"==typeof v&&(n=v(n._payload)),r.isValidElement(n)){var l;let e,i,s=(l=n,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),o=function(e,t){let r={...t};for(let n in t){let a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...l}:"className"===n&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}(a,n.props);return n.type!==r.Fragment&&(o.ref=t?(0,m.composeRefs)(t,s):s),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${l}.SlotClone`,s=i,(o=r.forwardRef((e,n)=>{let{children:a,...l}=e;x(a)&&"function"==typeof v&&(a=v(a._payload));let i=r.Children.toArray(a),o=i.find(y);if(o){let e=o.props.children,a=i.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(s,{...l,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,t.jsx)(s,{...l,ref:n,children:a})})).displayName=`${a}.Slot`,o),c=r.forwardRef((e,r)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?d:n,{...l,ref:r})});return c.displayName=`Primitive.${n}`,{...e,[n]:c}},{}),j=e.i(17389),C=e.i(57985),k='[cmdk-group=""]',S='[cmdk-group-items=""]',E='[cmdk-item=""]',N=`${E}:not([aria-disabled="true"])`,D="cmdk-item-select",R="data-value",I=(e,t,r)=>{var n;return n=e,function e(t,r,n,a,l,i,s){if(i===r.length)return l===t.length?1:.99;var o=`${l},${i}`;if(void 0!==s[o])return s[o];for(var f,h,m,g,v=a.charAt(i),x=n.indexOf(v,l),b=0;x>=0;)(f=e(t,r,n,a,x+1,i+1,s))>b&&(x===l?f*=1:d.test(t.charAt(x-1))?(f*=.8,(m=t.slice(l,x-1).match(c))&&l>0&&(f*=Math.pow(.999,m.length))):u.test(t.charAt(x-1))?(f*=.9,(g=t.slice(l,x-1).match(p))&&l>0&&(f*=Math.pow(.999,g.length))):(f*=.17,l>0&&(f*=Math.pow(.999,x-l))),t.charAt(x)!==r.charAt(i)&&(f*=.9999)),(f<.1&&n.charAt(x-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&n.charAt(x-1)!==a.charAt(i))&&.1*(h=e(t,r,n,a,x+1,i+2,s))>f&&(f=.1*h),f>b&&(b=f),x=n.indexOf(v,x+1);return s[o]=b,b}(n=r&&r.length>0?`${n+" "+r.join(" ")}`:n,t,f(n),f(t),0,0,{})},M=r.createContext(void 0),P=r.createContext(void 0),T=r.createContext(void 0),O=r.forwardRef((e,t)=>{let n=U(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=U(()=>new Set),l=U(()=>new Map),i=U(()=>new Map),s=U(()=>new Set),o=H(e),{label:d,children:c,value:u,onValueChange:p,filter:f,shouldFilter:h,loop:m,disablePointerSelection:g=!1,vimBindings:v=!0,...x}=e,b=(0,j.useId)(),y=(0,j.useId)(),C=(0,j.useId)(),T=r.useRef(null),O=X();W(()=>{if(void 0!==u){let e=u.trim();n.current.value=e,A.emit()}},[u]),W(()=>{O(6,B)},[]);let A=r.useMemo(()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var a,l,i;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)V(),z(),O(1,_);else if("value"===e&&(r||O(5,B),(null==(a=o.current)?void 0:a.value)!==void 0)){null==(i=(l=o.current).onValueChange)||i.call(l,null!=t?t:"");return}A.emit()}},emit:()=>{s.current.forEach(e=>e())}}),[]),L=r.useMemo(()=>({value:(e,t,r)=>{var a;t!==(null==(a=i.current.get(e))?void 0:a.value)&&(i.current.set(e,{value:t,keywords:r}),n.current.filtered.items.set(e,F(t,r)),O(2,()=>{z(),A.emit()}))},item:(e,t)=>(a.current.add(e),t&&(l.current.has(t)?l.current.get(t).add(e):l.current.set(t,new Set([e]))),O(3,()=>{V(),z(),n.current.value||_(),A.emit()}),()=>{i.current.delete(e),a.current.delete(e),n.current.filtered.items.delete(e);let t=K();O(4,()=>{V(),(null==t?void 0:t.getAttribute("id"))===e&&_(),A.emit()})}),group:e=>(l.current.has(e)||l.current.set(e,new Set),()=>{i.current.delete(e),l.current.delete(e)}),filter:()=>o.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:b,inputId:C,labelId:y,listInnerRef:T}),[]);function F(e,t){var r,a;let l=null!=(a=null==(r=o.current)?void 0:r.filter)?a:I;return e?l(e,n.current.search,t):0}function z(){if(!n.current.search||!1===o.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(r=>{let n=l.current.get(r),a=0;n.forEach(t=>{a=Math.max(e.get(t),a)}),t.push([r,a])});let r=T.current;$().sort((t,r)=>{var n,a;let l=t.getAttribute("id"),i=r.getAttribute("id");return(null!=(n=e.get(i))?n:0)-(null!=(a=e.get(l))?a:0)}).forEach(e=>{let t=e.closest(S);t?t.appendChild(e.parentElement===t?e:e.closest(`${S} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${S} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=T.current)?void 0:t.querySelector(`${k}[${R}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function _(){let e=$().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(R);A.setState("value",t||void 0)}function V(){var e,t,r,s;if(!n.current.search||!1===o.current.shouldFilter){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let d=0;for(let l of a.current){let a=F(null!=(t=null==(e=i.current.get(l))?void 0:e.value)?t:"",null!=(s=null==(r=i.current.get(l))?void 0:r.keywords)?s:[]);n.current.filtered.items.set(l,a),a>0&&d++}for(let[e,t]of l.current)for(let r of t)if(n.current.filtered.items.get(r)>0){n.current.filtered.groups.add(e);break}n.current.filtered.count=d}function B(){var e,t,r;let n=K();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(k))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function K(){var e;return null==(e=T.current)?void 0:e.querySelector(`${E}[aria-selected="true"]`)}function $(){var e;return Array.from((null==(e=T.current)?void 0:e.querySelectorAll(N))||[])}function q(e){let t=$()[e];t&&A.setState("value",t.getAttribute(R))}function J(e){var t;let r=K(),n=$(),a=n.findIndex(e=>e===r),l=n[a+e];null!=(t=o.current)&&t.loop&&(l=a+e<0?n[n.length-1]:a+e===n.length?n[0]:n[a+e]),l&&A.setState("value",l.getAttribute(R))}function Z(e){let t=K(),r=null==t?void 0:t.closest(k),n;for(;r&&!n;)n=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,k):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,k))?void 0:r.querySelector(N);n?A.setState("value",n.getAttribute(R)):J(e)}let Q=()=>q($().length-1),ee=e=>{e.preventDefault(),e.metaKey?Q():e.altKey?Z(1):J(1)},et=e=>{e.preventDefault(),e.metaKey?q(0):e.altKey?Z(-1):J(-1)};return r.createElement(w.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=x.onKeyDown)||t.call(x,e),!e.defaultPrevented)switch(e.key){case"n":case"j":v&&e.ctrlKey&&ee(e);break;case"ArrowDown":ee(e);break;case"p":case"k":v&&e.ctrlKey&&et(e);break;case"ArrowUp":et(e);break;case"Home":e.preventDefault(),q(0);break;case"End":e.preventDefault(),Q();break;case"Enter":if(!e.nativeEvent.isComposing&&229!==e.keyCode){e.preventDefault();let t=K();if(t){let e=new Event(D);t.dispatchEvent(e)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:L.inputId,id:L.labelId,style:Y},d),G(e,e=>r.createElement(P.Provider,{value:A},r.createElement(M.Provider,{value:L},e))))}),A=r.forwardRef((e,t)=>{var n,a;let l=(0,j.useId)(),i=r.useRef(null),s=r.useContext(T),o=r.useContext(M),d=H(e),c=null!=(a=null==(n=d.current)?void 0:n.forceMount)?a:null==s?void 0:s.forceMount;W(()=>{if(!c)return o.item(l,null==s?void 0:s.id)},[c]);let u=q(l,i,[e.value,e.children,i],e.keywords),p=r.useContext(P),f=$(e=>e.value&&e.value===u.current),h=$(e=>!!c||!1===o.filter()||!e.search||e.filtered.items.get(l)>0);function m(){var e,t;g(),null==(t=(e=d.current).onSelect)||t.call(e,u.current)}function g(){p.setState("value",u.current,!0)}if(r.useEffect(()=>{let t=i.current;if(!(!t||e.disabled))return t.addEventListener(D,m),()=>t.removeEventListener(D,m)},[h,e.onSelect,e.disabled]),!h)return null;let{disabled:v,value:x,onSelect:b,forceMount:y,keywords:C,...k}=e;return r.createElement(w.div,{ref:K([i,t]),...k,id:l,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!f,"data-disabled":!!v,"data-selected":!!f,onPointerMove:v||o.getDisablePointerSelection()?void 0:g,onClick:v?void 0:m},e.children)}),L=r.forwardRef((e,t)=>{let{heading:n,children:a,forceMount:l,...i}=e,s=(0,j.useId)(),o=r.useRef(null),d=r.useRef(null),c=(0,j.useId)(),u=r.useContext(M),p=$(e=>!!l||!1===u.filter()||!e.search||e.filtered.groups.has(s));W(()=>u.group(s),[]),q(s,o,[e.value,e.heading,d]);let f=r.useMemo(()=>({id:s,forceMount:l}),[l]);return r.createElement(w.div,{ref:K([o,t]),...i,"cmdk-group":"",role:"presentation",hidden:!p||void 0},n&&r.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),G(e,e=>r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},r.createElement(T.Provider,{value:f},e))))}),F=r.forwardRef((e,t)=>{let{alwaysRender:n,...a}=e,l=r.useRef(null),i=$(e=>!e.search);return n||i?r.createElement(w.div,{ref:K([l,t]),...a,"cmdk-separator":"",role:"separator"}):null}),z=r.forwardRef((e,t)=>{let{onValueChange:n,...a}=e,l=null!=e.value,i=r.useContext(P),s=$(e=>e.search),o=$(e=>e.value),d=r.useContext(M),c=r.useMemo(()=>{var e;let t=null==(e=d.listInnerRef.current)?void 0:e.querySelector(`${E}[${R}="${encodeURIComponent(o)}"]`);return null==t?void 0:t.getAttribute("id")},[]);return r.useEffect(()=>{null!=e.value&&i.setState("search",e.value)},[e.value]),r.createElement(w.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:l?e.value:s,onChange:e=>{l||i.setState("search",e.target.value),null==n||n(e.target.value)}})}),_=r.forwardRef((e,t)=>{let{children:n,label:a="Suggestions",...l}=e,i=r.useRef(null),s=r.useRef(null),o=r.useContext(M);return r.useEffect(()=>{if(s.current&&i.current){let e=s.current,t=i.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),r.createElement(w.div,{ref:K([i,t]),...l,"cmdk-list":"",role:"listbox","aria-label":a,id:o.listId},G(e,e=>r.createElement("div",{ref:K([s,o.listInnerRef]),"cmdk-list-sizer":""},e)))}),V=r.forwardRef((e,t)=>{let{open:n,onOpenChange:a,overlayClassName:l,contentClassName:i,container:s,...o}=e;return r.createElement(h.Root,{open:n,onOpenChange:a},r.createElement(h.Portal,{container:s},r.createElement(h.Overlay,{"cmdk-overlay":"",className:l}),r.createElement(h.Content,{"aria-label":e.label,"cmdk-dialog":"",className:i},r.createElement(O,{ref:t,...o}))))}),B=Object.assign(O,{List:_,Item:A,Input:z,Group:L,Separator:F,Dialog:V,Empty:r.forwardRef((e,t)=>$(e=>0===e.filtered.count)?r.createElement(w.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:r.forwardRef((e,t)=>{let{progress:n,children:a,label:l="Loading...",...i}=e;return r.createElement(w.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},G(e,e=>r.createElement("div",{"aria-hidden":!0},e)))})});function H(e){let t=r.useRef(e);return W(()=>{t.current=e}),t}var W="undefined"==typeof window?r.useEffect:r.useLayoutEffect;function U(e){let t=r.useRef();return void 0===t.current&&(t.current=e()),t}function K(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}function $(e){let t=r.useContext(P),n=()=>e(t.snapshot());return(0,C.useSyncExternalStore)(t.subscribe,n,n)}function q(e,t,n,a=[]){let l=r.useRef(),i=r.useContext(M);return W(()=>{var r;let s=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():l.current}})(),o=a.map(e=>e.trim());i.value(e,s,o),null==(r=t.current)||r.setAttribute(R,s),l.current=s}),l}var X=()=>{let[e,t]=r.useState(),n=U(()=>new Map);return W(()=>{n.current.forEach(e=>e()),n.current=new Map},[e]),(e,r)=>{n.current.set(e,r),t({})}};function G({asChild:e,children:t},n){let a;return e&&r.isValidElement(t)?r.cloneElement("function"==typeof(a=t.type)?a(t.props):"render"in a?a.render(t.props):t,{ref:t.ref},n(t.props.children)):n(t)}var Y={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},J=e.i(88462),J=J,Z=e.i(74359);function Q({className:e,...r}){return(0,t.jsx)(B,{"data-slot":"command",className:(0,Z.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...r})}function ee({className:e,...r}){return(0,t.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,t.jsx)(J.default,{className:"size-4 shrink-0 opacity-50"}),(0,t.jsx)(B.Input,{"data-slot":"command-input",className:(0,Z.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function et({className:e,...r}){return(0,t.jsx)(B.List,{"data-slot":"command-list",className:(0,Z.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...r})}function er({...e}){return(0,t.jsx)(B.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function en({className:e,...r}){return(0,t.jsx)(B.Group,{"data-slot":"command-group",className:(0,Z.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...r})}function ea({className:e,...r}){return(0,t.jsx)(B.Item,{"data-slot":"command-item",className:(0,Z.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}e.i(77989),e.s(["Command",()=>Q,"CommandEmpty",()=>er,"CommandGroup",()=>en,"CommandInput",()=>ee,"CommandItem",()=>ea,"CommandList",()=>et],71345)},291,e=>{"use strict";var t=e.i(91966),r=e.i(35730),n=e.i(35941),a=e.i(23013),l=e.i(74089),i=e.i(66255),s=e.i(78195),o=e.i(88422),d=e.i(45951),c=e.i(31544),u=e.i(9248),p=e.i(6447),f=e.i(51347),h=e.i(23574),m=e.i(43389),g=e.i(10233),v=e.i(23912),x="Popover",[b,y]=(0,l.createContextScope)(x,[c.createPopperScope]),w=(0,c.createPopperScope)(),[j,C]=b(x),k=e=>{let{__scopePopover:n,children:a,open:l,defaultOpen:i,onOpenChange:s,modal:o=!1}=e,u=w(n),p=r.useRef(null),[f,h]=r.useState(!1),[g=!1,v]=(0,m.useControllableState)({prop:l,defaultProp:i,onChange:s});return(0,t.jsx)(c.Root,{...u,children:(0,t.jsx)(j,{scope:n,contentId:(0,d.useId)(),triggerRef:p,open:g,onOpenChange:v,onOpenToggle:r.useCallback(()=>v(e=>!e),[v]),hasCustomAnchor:f,onCustomAnchorAdd:r.useCallback(()=>h(!0),[]),onCustomAnchorRemove:r.useCallback(()=>h(!1),[]),modal:o,children:a})})};k.displayName=x;var S="PopoverAnchor";r.forwardRef((e,n)=>{let{__scopePopover:a,...l}=e,i=C(S,a),s=w(a),{onCustomAnchorAdd:o,onCustomAnchorRemove:d}=i;return r.useEffect(()=>(o(),()=>d()),[o,d]),(0,t.jsx)(c.Anchor,{...s,...l,ref:n})}).displayName=S;var E="PopoverTrigger",N=r.forwardRef((e,r)=>{let{__scopePopover:l,...i}=e,s=C(E,l),o=w(l),d=(0,a.useComposedRefs)(r,s.triggerRef),u=(0,t.jsx)(f.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":z(s.open),...i,ref:d,onClick:(0,n.composeEventHandlers)(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:(0,t.jsx)(c.Anchor,{asChild:!0,...o,children:u})});N.displayName=E;var D="PopoverPortal",[R,I]=b(D,{forceMount:void 0}),M=e=>{let{__scopePopover:r,forceMount:n,children:a,container:l}=e,i=C(D,r);return(0,t.jsx)(R,{scope:r,forceMount:n,children:(0,t.jsx)(p.Presence,{present:n||i.open,children:(0,t.jsx)(u.Portal,{asChild:!0,container:l,children:a})})})};M.displayName=D;var P="PopoverContent",T=r.forwardRef((e,r)=>{let n=I(P,e.__scopePopover),{forceMount:a=n.forceMount,...l}=e,i=C(P,e.__scopePopover);return(0,t.jsx)(p.Presence,{present:a||i.open,children:i.modal?(0,t.jsx)(O,{...l,ref:r}):(0,t.jsx)(A,{...l,ref:r})})});T.displayName=P;var O=r.forwardRef((e,l)=>{let i=C(P,e.__scopePopover),s=r.useRef(null),o=(0,a.useComposedRefs)(l,s),d=r.useRef(!1);return r.useEffect(()=>{let e=s.current;if(e)return(0,g.hideOthers)(e)},[]),(0,t.jsx)(v.RemoveScroll,{as:h.Slot,allowPinchZoom:!0,children:(0,t.jsx)(L,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),d.current||i.triggerRef.current?.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;d.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,n.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),A=r.forwardRef((e,n)=>{let a=C(P,e.__scopePopover),l=r.useRef(!1),i=r.useRef(!1);return(0,t.jsx)(L,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(l.current||a.triggerRef.current?.focus(),t.preventDefault()),l.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(l.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let r=t.target;a.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),L=r.forwardRef((e,r)=>{let{__scopePopover:n,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:d,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,...g}=e,v=C(P,n),x=w(n);return(0,s.useFocusGuards)(),(0,t.jsx)(o.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:l,onUnmountAutoFocus:d,children:(0,t.jsx)(i.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:m,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>v.onOpenChange(!1),children:(0,t.jsx)(c.Content,{"data-state":z(v.open),role:"dialog",id:v.contentId,...x,...g,ref:r,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),F="PopoverClose";function z(e){return e?"open":"closed"}r.forwardRef((e,r)=>{let{__scopePopover:a,...l}=e,i=C(F,a);return(0,t.jsx)(f.Primitive.button,{type:"button",...l,ref:r,onClick:(0,n.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})}).displayName=F,r.forwardRef((e,r)=>{let{__scopePopover:n,...a}=e,l=w(n);return(0,t.jsx)(c.Arrow,{...l,...a,ref:r})}).displayName="PopoverArrow";var _=e.i(74359);function V({...e}){return(0,t.jsx)(k,{"data-slot":"popover",...e})}function B({...e}){return(0,t.jsx)(N,{"data-slot":"popover-trigger",...e})}function H({className:e,align:r="center",sideOffset:n=4,...a}){return(0,t.jsx)(M,{children:(0,t.jsx)(T,{"data-slot":"popover-content",align:r,sideOffset:n,className:(0,_.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...a})})}e.s(["Popover",()=>V,"PopoverContent",()=>H,"PopoverTrigger",()=>B],291)},97421,e=>{"use strict";var t=e.i(91966),r=e.i(35730),n=e.i(44972),a=e.i(30686),l=e.i(86427),i=e.i(3980),s=e.i(51720),o=e.i(19301),d=e.i(4731),c=e.i(3265),u=e.i(71345),p=e.i(291),f=e.i(37465),f=f;let h=(0,e.i(28091).default)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var m=e.i(74359),g=e.i(59265);function v({open:e,onOpenChange:v,onSave:b}){let{t:y}=(0,g.useLanguage)(),[w,j]=(0,r.useState)({status:"active",surveyId:"2",triggerDays:7,ratingScale:"1-10",timelineSteps:[{id:"step-1",type:"email",delay:0,settings:{subject:"We'd love your feedback!",body:"Hi {{customerName}},\n\nThank you for choosing us! We'd appreciate if you could take a moment to share your feedback using this link: {{surveyLink}}\n\nBest regards,\nThe Team"}},{id:"step-2",type:"ai-call",delay:3,settings:{startAfter:24,retryInterval:4,maxRetries:3,voiceType:"female1",callWindowFrom:"09:00",callWindowTo:"18:00",personaScript:"Hello, this is Sarah from AutoHaus. I'm calling to follow up on your recent experience with us..."}}]}),[C,k]=(0,r.useState)(!1),S=x.find(e=>e.id===w.surveyId);return(0,t.jsx)(n.Sheet,{open:e,onOpenChange:v,children:(0,t.jsxs)(n.SheetContent,{className:"w-full sm:max-w-2xl overflow-y-auto bg-white px-8",children:[(0,t.jsx)(n.SheetHeader,{className:"pb-6",children:(0,t.jsx)(n.SheetTitle,{className:"text-2xl font-bold text-[#333333]",children:y("settings.title")})}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)(i.Tabs,{defaultValue:"basics",children:[(0,t.jsxs)(i.TabsList,{className:"grid w-full grid-cols-3 bg-transparent p-0 h-auto gap-0 mb-8",children:[(0,t.jsx)(i.TabsTrigger,{value:"basics",className:"data-[state=active]:bg-[#1e293b] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-gray-500 rounded-[4px] border-0 py-3 text-base font-medium",children:y("settings.basics")}),(0,t.jsx)(i.TabsTrigger,{value:"timeline",className:"data-[state=active]:bg-[#1e293b] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-gray-500 rounded-[4px] border-0 py-3 text-base font-medium",children:y("settings.timeline")}),(0,t.jsx)(i.TabsTrigger,{value:"outcomes",className:"data-[state=active]:bg-[#1e293b] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-gray-500 rounded-[4px] border-0 py-3 text-base font-medium",children:y("settings.outcomes")})]}),(0,t.jsx)(i.TabsContent,{value:"basics",className:"mt-0",children:(0,t.jsxs)("div",{className:"space-y-6 bg-white p-6 rounded-[4px] border border-gray-200",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"status",className:"text-sm font-medium text-[#333333]",children:y("settings.status")}),(0,t.jsxs)(s.Select,{value:w.status,onValueChange:e=>j({...w,status:e}),children:[(0,t.jsx)(s.SelectTrigger,{id:"status",className:"bg-white",children:(0,t.jsx)(s.SelectValue,{})}),(0,t.jsxs)(s.SelectContent,{children:[(0,t.jsx)(s.SelectItem,{value:"active",children:y("settings.statusActive")}),(0,t.jsx)(s.SelectItem,{value:"paused",children:y("settings.statusPaused")}),(0,t.jsx)(s.SelectItem,{value:"draft",children:y("settings.statusDraft")}),(0,t.jsx)(s.SelectItem,{value:"completed",children:y("settings.statusCompleted")})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{className:"text-sm font-medium text-[#333333]",children:y("settings.survey")}),(0,t.jsxs)(p.Popover,{open:C,onOpenChange:k,children:[(0,t.jsx)(p.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(a.Button,{variant:"outline",role:"combobox","aria-expanded":C,className:"w-full justify-between font-normal bg-white",children:[S?S.name:y("settings.selectSurvey"),(0,t.jsx)(h,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(p.PopoverContent,{className:"w-(--radix-popover-trigger-width) p-0",children:(0,t.jsxs)(u.Command,{children:[(0,t.jsx)(u.CommandInput,{placeholder:y("settings.searchSurveys")}),(0,t.jsxs)(u.CommandList,{children:[(0,t.jsx)(u.CommandEmpty,{children:y("settings.noSurvey")}),(0,t.jsx)(u.CommandGroup,{children:x.map(e=>(0,t.jsxs)(u.CommandItem,{value:e.name,onSelect:()=>{j({...w,surveyId:e.id}),k(!1)},children:[(0,t.jsx)(f.default,{className:(0,m.cn)("mr-2 h-4 w-4",w.surveyId===e.id?"opacity-100":"opacity-0")}),e.name]},e.id))})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{className:"text-sm font-medium text-[#333333] py-0 my-4",children:y("settings.ratingScale")}),(0,t.jsxs)(o.RadioGroup,{value:w.ratingScale,onValueChange:e=>j({...w,ratingScale:e}),className:"flex flex-col space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.RadioGroupItem,{value:"1-5",id:"scale-1-5"}),(0,t.jsx)(l.Label,{htmlFor:"scale-1-5",className:"font-normal text-[#333333] cursor-pointer",children:y("settings.scale1to5")})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.RadioGroupItem,{value:"1-10",id:"scale-1-10"}),(0,t.jsx)(l.Label,{htmlFor:"scale-1-10",className:"font-normal text-[#333333] cursor-pointer",children:y("settings.scale1to10")})]})]})]})]})}),(0,t.jsx)(i.TabsContent,{value:"timeline",className:"mt-0",children:(0,t.jsx)(d.TimelineFlow,{steps:w.timelineSteps,onChange:e=>j({...w,timelineSteps:e}),triggerDays:w.triggerDays,onTriggerChange:e=>j({...w,triggerDays:e})})}),(0,t.jsx)(i.TabsContent,{value:"outcomes",className:"mt-0",children:(0,t.jsx)(c.OutcomesSettings,{})})]})}),(0,t.jsxs)("div",{className:"flex gap-3 mt-8 pt-6 border-t border-gray-200",children:[(0,t.jsx)(a.Button,{variant:"outline",className:"flex-1 bg-white border-[#DDDDDD] text-[#333333] hover:bg-gray-50 rounded-[4px]",onClick:()=>v(!1),children:y("settings.cancel")}),(0,t.jsx)(a.Button,{className:"flex-1 bg-[#E41C24] hover:bg-[#C11119] text-white rounded-[4px]",onClick:()=>{b?.(w),v(!1)},children:y("settings.save")})]})]})})}let x=[{id:"1",name:"Survey per opportunit dimenticate"},{id:"2",name:"Survey post preventivo o intervento in officina"},{id:"3",name:"Survey per verifica del contratto"}];e.s(["ReportSettingsDrawer",()=>v],97421)},87493,e=>{"use strict";let t=(0,e.i(28091).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],87493)}]);